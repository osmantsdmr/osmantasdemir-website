---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar.astro';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const projeler = await getCollection('projeler');
  return projeler.map((proje) => ({
    params: { slug: proje.data.slug },
    props: { proje },
  }));
}

const { proje } = Astro.props;
const { Content } = await proje.render();
---

<Layout title={`${proje.data.baslik} | Osman Taşdemir`}>
  <Navbar />
  
  <main style="padding-top: 80px; background-color: #37353E; min-height: 100vh;">
    <article style="max-width: 900px; margin: 0 auto; padding: 40px 20px;">
      
      <!-- Header -->
      <header style="margin-bottom: 40px;">
        <span style="display: inline-block; background: #57564F; color: #D3DAD9; padding: 6px 16px; border-radius: 20px; font-size: 14px; margin-bottom: 16px;">
          {proje.data.kategori}
        </span>
        <h1 style="font-size: 36px; font-weight: bold; color: #D3DAD9; margin-bottom: 12px;">
          {proje.data.baslik}
        </h1>
        <p style="font-size: 16px; color: #D3DAD9; opacity: 0.7;">
          {proje.data.tarih}
        </p>
      </header>

      <!-- Hero Image Placeholder -->
      <div style="height: 400px; background: linear-gradient(135deg, #57564F 0%, #44444E 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 40px;">
        <span style="color: #D3DAD9; opacity: 0.5;">Proje Görseli</span>
      </div>

      <!-- Description -->
      <section style="margin-bottom: 40px;">
        <h2 style="font-size: 24px; font-weight: bold; color: #D3DAD9; margin-bottom: 16px;">Proje Hakkında</h2>
        <p style="font-size: 16px; color: #D3DAD9; opacity: 0.8; line-height: 1.8;">
          {proje.data.detay}
        </p>
      </section>

      <!-- Technologies -->
      {proje.data.teknolojiler && proje.data.teknolojiler.length > 0 && (
        <section style="margin-bottom: 40px;">
          <h2 style="font-size: 24px; font-weight: bold; color: #D3DAD9; margin-bottom: 16px;">Kullanılan Teknolojiler</h2>
          <div style="display: flex; flex-wrap: wrap; gap: 10px;">
            {proje.data.teknolojiler.map((tech) => (
              <span style="background: #57564F; color: #D3DAD9; padding: 8px 16px; border-radius: 8px; font-size: 14px;">
                {tech}
              </span>
            ))}
          </div>
        </section>
      )}

      <!-- Features -->
      {proje.data.ozellikler && proje.data.ozellikler.length > 0 && (
        <section style="margin-bottom: 40px;">
          <h2 style="font-size: 24px; font-weight: bold; color: #D3DAD9; margin-bottom: 16px;">Özellikler</h2>
          <ul style="list-style: none; padding: 0;">
            {proje.data.ozellikler.map((ozellik) => (
              <li style="display: flex; align-items: center; gap: 12px; padding: 12px 0; border-bottom: 1px solid #44444E; color: #D3DAD9;">
                <span style="color: #57564F;">✓</span>
                {ozellik}
              </li>
            ))}
          </ul>
        </section>
      )}

      <!-- Back Button -->
      <a href="/projeler" style="display: inline-flex; align-items: center; gap: 8px; color: #D3DAD9; text-decoration: none; padding: 12px 24px; background: #57564F; border-radius: 8px; transition: background 0.3s;">
        ← Tüm Projeler
      </a>

    </article>
  </main>
</Layout>